<html>
<head>
<title>DataTables</title>
<link href='https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css' rel="stylesheet">
<style>
body {
    font-family: Arial, Helvetica, sans-serif;
}
</style>
</head>
<body>
<table id=datatable>
<thead><tr><th>Label</th><th>AppName</th></tr></thead>
</table>
<script src='https://code.jquery.com/jquery-3.3.1.js'></script>
<script src='https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js'></script>
<script>
const baseUrl = 'https://daxiao.oktapreview.com';
$(document).ready(function () {
    $('#datatable').DataTable({
        ajax: {
            url: `${baseUrl}/api/v1/users/me/appLinks`,
            dataSrc: '',
            xhrFields: {
                withCredentials: true
            },
            cache: true, // turn off ?_=[TIMESTAMP]
            headers: {accept: 'application/json'}
        },
        columns: [{data: 'label'}, {data: 'appName'}]
    });
});
</script>
</body>
</html>
